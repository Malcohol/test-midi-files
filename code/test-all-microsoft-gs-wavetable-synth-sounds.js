var TEST = require('..');
var JZZ = require('jzz');
require('jzz-midi-smf')(JZZ);
require('jzz-midi-gm')(JZZ);

var gs = [
[0, [0, 8, 16]], [1, [0, 8]], [2, [0, 8]], [3, [0, 8]],
[4, [0, 8, 16, 24]], [5, [0, 8, 16]], [6, [0, 8, 16, 24]], [7, [0]],
[8, [0]], [9, [0]], [10, [0]], [11, [0, 8]],
[12, [0, 8]], [13, [0]], [14, [0, 8, 9]], [15, [0]],
[16, [0, 8, 16, 32]], [17, [0, 8, 32]], [18, [0]], [19, [0, 8, 16]],
[20, [0]], [21, [0, 8]], [22, [0]], [23, [0]],
[24, [0, 8, 16, 32]], [25, [0, 8, 16]], [26, [0, 8]], [27, [0, 8]],
[28, [0, 8, 16]], [29, [0]], [30, [0, 8]], [31, [0, 8]],
[32, [0]], [33, [0]], [34, [0]], [35, [0]],
[36, [0]], [37, [0]], [38, [0, 1, 8]], [39, [0, 8, 16]],
[40, [0, 8]], [41, [0]], [42, [0]], [43, [0]],
[44, [0]], [45, [0]], [46, [0]], [47, [0]],
[48, [0, 8]], [49, [0]], [50, [0, 8]], [51, [0]],
[52, [0, 32]], [53, [0]], [54, [0]], [55, [0]],
[56, [0]], [57, [0, 1]], [58, [0]], [59, [0]],
[60, [0, 1]], [61, [0, 8]], [62, [0, 8, 16]], [63, [0, 8, 16]],
[64, [0]], [65, [0]], [66, [0]], [67, [0]],
[68, [0]], [69, [0]], [70, [0]], [71, [0]],
[72, [0]], [73, [0]], [74, [0]], [75, [0]],
[76, [0]], [77, [0]], [78, [0]], [79, [0]],
[80, [0, 1, 8]], [81, [0, 1, 8]], [82, [0]], [83, [0]],
[84, [0]], [85, [0]], [86, [0]], [87, [0]],
[88, [0]], [89, [0]], [90, [0]], [91, [0]],
[92, [0]], [93, [0]], [94, [0]], [95, [0]],
[96, [0]], [97, [0]], [98, [0, 1]], [99, [0]],
[100, [0]], [101, [0]], [102, [0, 1, 2]], [103, [0]],
[104, [0, 1]], [105, [0]], [106, [0]], [107, [0, 8]],
[108, [0]], [109, [0]], [110, [0]], [111, [0]],
[112, [0]], [113, [0]], [114, [0]], [115, [0, 8]],
[116, [0, 8]], [117, [0, 8]], [118, [0, 8, 9]], [119, [0]],
[120, [0, 1, 2]], [121, [0, 1]], [122, [0, 1, 2, 3, 4, 5]], [123, [0, 1, 2, 3]],
[124, [0, 1, 2, 3, 4, 5]], [125, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]], [126, [0, 1, 2, 3, 4, 5]], [127, [0, 1, 2, 3]]
];

var i, j, k;

var smf = new JZZ.MIDI.SMF(0, 96);
var trk = new JZZ.MIDI.SMF.MTrk();
smf.push(trk);
trk = trk.smfSeqName('All Microsoft GS Wavetable Synth Sounds')
  .smfCopyright('https://jazz-soft.net')
  .smfText('Did you know Microsoft GS Wavetable Synth had 226 programs?\n')
  .sxGS().ch(0);

for (i = 0; i < 128; i++) {
  for (j = 0; j < gs[i][1].length; j++) {
    k = gs[i][1][j];
    trk = trk.smfText(i + ' ' + k + ' 0: ' + JZZ.MIDI.programName(i, k, 0))
      .bank(k, 0).program(i)
      .noteOn('C5', 127).tick(96)
      .noteOn('E5', 127).tick(96)
      .noteOn('G5', 127).tick(96)
      .noteOn('C6', 127).tick(240)
      .noteOff('C5').noteOff('E5').noteOff('G5').noteOff('C6');
  }
}

trk.smfText('Thank you!');

TEST.write(smf);
TEST.play(smf);
